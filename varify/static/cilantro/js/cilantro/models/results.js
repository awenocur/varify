var __hasProp={}.hasOwnProperty,__extends=function(t,e){function n(){this.constructor=t}for(var i in e)__hasProp.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},__bind=function(t,e){return function(){return t.apply(e,arguments)}};define(["underscore","../core","../constants","../structs","./paginator"],function(t,e,n,i,s){var r,o,a,u;return o=function(n){function i(){return a=i.__super__.constructor.apply(this,arguments)}return __extends(i,n),i.prototype.idAttribute="page_num",i.prototype.url=function(){var n;return n=t.result(this.collection,"url"),e.utils.alterUrlParams(n,{page:this.id,per_page:this.collection.perPage})},i}(i.Frame),r=function(i){function s(){return this.fetch=__bind(this.fetch,this),this.markAsDirty=__bind(this.markAsDirty,this),this.onWorkspaceUnload=__bind(this.onWorkspaceUnload,this),this.onWorkspaceLoad=__bind(this.onWorkspaceLoad,this),u=s.__super__.constructor.apply(this,arguments)}return __extends(s,i),s.prototype.initialize=function(){return this.isDirty=!0,this.isWorkspaceOpen=!1,this._refresh=t.debounce(t.bind(this.refresh,this),n.CLICK_DELAY),e.on(e.VIEW_SYNCED,this.markAsDirty),e.on(e.CONTEXT_SYNCED,this.markAsDirty),this.on("workspace:load",this.onWorkspaceLoad),this.on("workspace:unload",this.onWorkspaceUnload)},s.prototype.onWorkspaceLoad=function(){return this.isWorkspaceOpen=!0,this._refresh()},s.prototype.onWorkspaceUnload=function(){return this.isWorkspaceOpen=!1},s.prototype.markAsDirty=function(){return this.isDirty=!0,this._refresh()},s.prototype.fetch=function(t){var n,i=this;return null==t&&(t={}),null!=(n=e.config.get("session.defaults.data.preview"))&&(t.type="POST",t.contentType="application/json",t.data=JSON.stringify(n)),this.isDirty&&this.isWorkspaceOpen?(this.isDirty=!1,null==t.cache&&(t.cache=!1),s.__super__.fetch.call(this,t)):{done:function(){return delete i.pending}}},s}(i.FrameArray),t.extend(r.prototype,s.PaginatorMixin),r.prototype.model=o,{Results:r}});
//@ sourceMappingURL=results.js.map