define(["underscore","../core","../constants","../structs","./paginator"],function(t,e,i,n,s){var o=n.Frame.extend({idAttribute:"page_num",url:function(){var i=t.result(this.collection,"url");return e.utils.alterUrlParams(i,{page:this.id,per_page:this.collection.perPage})}}),r=n.FrameArray.extend({initialize:function(){t.bindAll(this,"fetch","markAsDirty","onWorkspaceUnload","onWorkspaceLoad","refresh"),this.isDirty=!0,this.isWorkspaceOpen=!1,this._refresh=t.debounce(this.refresh,i.CLICK_DELAY),e.on(e.VIEW_SYNCED,this.markAsDirty),e.on(e.CONTEXT_SYNCED,this.markAsDirty),this.on("workspace:load",this.onWorkspaceLoad),this.on("workspace:unload",this.onWorkspaceUnload)},onWorkspaceLoad:function(){this.isWorkspaceOpen=!0,this._refresh()},onWorkspaceUnload:function(){this.isWorkspaceOpen=!1},markAsDirty:function(){this.isDirty=!0,this._refresh()},fetch:function(t){t||(t={});var i;if(null!==(i=e.config.get("session.defaults.data.preview"))&&(t.type="POST",t.contentType="application/json",t.data=JSON.stringify(i)),this.isDirty&&this.isWorkspaceOpen)return this.isDirty=!1,void 0===t.cache&&(t.cache=!1),n.FrameArray.prototype.fetch.call(this,arguments);var s=this;return{done:function(){return delete s.pending}}}});return t.extend(r.prototype,s.PaginatorMixin),r.prototype.model=o,{Results:r}});
//@ sourceMappingURL=results.js.map