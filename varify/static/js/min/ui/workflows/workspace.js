define(["cilantro","marionette","../sample"],function(e,t,n){var r=e.ui.WorkspaceWorkflow.extend({template:"varify/workflows/workspace",ui:{sampleVariantSetHelp:"[data-target=sample-variant-set-help]"},regions:{queries:"[data-target=query-region]",publicQueries:"[data-target=public-query-region]",sampleDetail:"[data-target=sample-details-region]",sampleVariantSets:"[data-target=sample-variant-sets-region]"},regionViews:{queries:e.ui.QueryList,publicQueries:e.ui.QueryList,sampleDetail:n.SampleDetail,sampleVariantSets:n.SampleVariantSets},initialize:function(t){e.ui.WorkspaceWorkflow.prototype.initialize.call(this,t);if(!(this.data.samples=this.options.samples))throw new Error("samples collection required")},onRender:function(){e.ui.WorkspaceWorkflow.prototype.onRender.call(this),this.ui.sampleVariantSetHelp.tooltip({title:"A variant set is a fixed set of sample variants that can be annotated and augmented at the creator's discretion."}),this.listenTo(this.data.samples,"select",this.renderSampleDetail),this.listenTo(this.data.samples,"select",this.renderSampleVariantSets)},renderSampleDetail:function(e){var t=new this.regionViews.sampleDetail({model:e});this.sampleDetail.show(t)},renderSampleVariantSets:function(e){if(!e)return;var t=new this.regionViews.sampleVariantSets({collection:e.variantSets});e.variantSets.fetch({reset:!0}),this.sampleVariantSets.show(t)}});return{WorkspaceWorkflow:r}})