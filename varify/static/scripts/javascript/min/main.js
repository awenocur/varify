require({config:{tpl:{variable:"data"}}},["cilantro","project/ui","project/csrf","tpl!templates/varify/tables/header.html","tpl!templates/varify/empty.html","tpl!templates/varify/modals/result.html","tpl!templates/varify/controls/hgmd.html","tpl!templates/varify/controls/sift.html","tpl!templates/varify/controls/polyphen.html"],function(e,t,n,r,i,s,o,u,a){var f,l;return l={url:e.config.get("url"),credentials:e.config.get("credentials")},e.templates.set("varify/tables/header",r),e.templates.set("varify/empty",i),e.templates.set("varify/modals/result",s),e.templates.set("varify/controls/hgmd",o),e.templates.set("varify/controls/sift",u),e.templates.set("varify/controls/polyphen",a),e.config.set("fields.defaults.form.stats",!1),e.config.set("fields.types.number.form.chart",!1),e.config.set("fields.types.date.form.chart",!1),e.config.set("fields.types.time.form.chart",!1),e.config.set("fields.types.datetime.form.chart",!1),e.config.set("fields.instances.27.form.controls",["multiSelectionList"]),e.config.set("fields.instances.28.form.controls",["multiSelectionList"]),e.config.set("fields.instances.29.form.controls",["multiSelectionList"]),e.config.set("fields.instances.61.form.controls",["multiSelectionList"]),e.config.set("fields.instances.64.form.controls",["multiSelectionList"]),e.config.set("fields.instances.75.form.controls",["search"]),e.config.set("fields.instances.68.form.controls",["singleSelectionList"]),e.controls.set("Hgmd",t.HgmdSelector),e.controls.set("Sift",t.SiftSelector),e.controls.set("PolyPhen",t.PolyPhenSelector),e.config.set("fields.instances.110.form.controls",["Hgmd"]),e.config.set("fields.instances.58.form.controls",["Sift"]),e.config.set("fields.instances.56.form.controls",["PolyPhen"]),f=function(t){return function(t){var n,r;if(e.data==null)return;return r=_.map(t||[],function(t){var n;return(n=e.data.concepts.get(t.concept))!=null?n.get("name"):void 0}),r?n="The following concepts are required: "+r.join(", "):n="There are 1 or more required concepts",e.notify({level:"error",message:n})}}(this),e.config.set("query.concepts.required",[2]),e.on(e.CONTEXT_INVALID,f),e.on(e.CONTEXT_REQUIRED,f),e.ready(function(){return e.sessions.open(l).then(function(){var n,r;return r=[{id:"query",route:"query/",view:new e.ui.QueryWorkflow({context:this.data.contexts.session,concepts:this.data.concepts.queryable})},{id:"results",route:"results/",view:new t.ResultsWorkflow({view:this.data.views.session,context:this.data.contexts.session,concepts:this.data.concepts.viewable,results:this.data.preview,exporters:this.data.exporter,queries:this.data.queries})}],e.isSupported("2.2.0")&&r.push({id:"query-load",route:"results/:query_id/",view:new e.ui.QueryLoader({queries:this.data.queries,context:this.data.contexts.session,view:this.data.views.session})}),e.isSupported("2.1.0")&&(n={queries:this.data.queries,context:this.data.contexts.session,view:this.data.views.session},e.isSupported("2.2.0")&&(n.public_queries=this.data.public_queries),r.push({id:"workspace",route:"workspace/",view:new e.ui.WorkspaceWorkflow(n)})),this.start(r)})})})