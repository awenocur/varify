define(["backbone","../utils"],function(e,t){var n=e.Model.extend({lowestPriority:10,highestPriority:1,urlRoot:function(){var e="api/samples/"+this.get("sample_id")+"/phenotypes/";return t.toAbsolutePath(e)},parsePriority:function(e){return parseInt(e.priority,10)||this.lowestPriority+1},parse:function(e){var n,r,i;return e.hpoAnnotations&&e.hpoAnnotations.length&&(e.hpoAnnotations=_.sortBy(e.hpoAnnotations,parsePriority)),e.confirmedDiagnoses&&e.confirmedDiagnoses.length&&(e.confirmedDiagnoses=_.sortBy(e.confirmedDiagnoses,parsePriority)),e.suspectedDiagnoses&&e.suspectedDiagnoses.length&&(e.suspectedDiagnoses=_.sortBy(e.suspectedDiagnoses,parsePriority)),e.ruledOutDiagnoses&&e.ruledOutDiagnoses.length&&(e.ruledOutDiagnoses=_.sortBy(e.ruledOutDiagnoses,parsePriority)),e.pedigree&&(n=e.pedigree,n=n.replace("/phenotype/media","api/samples"),e.pedigree=t.toAbsolutePath(n)),r=t.parseISO8601UTC(e.last_modified),r?e.last_modified=r.toLocaleString():e.last_modified="N/A",i=t.parseISO8601UTC(e.phenotype_modified),i?e.phenotype_modified=i.toLocaleString():e.phenotype_modified="N/A",e}});return{Phenotype:n}})